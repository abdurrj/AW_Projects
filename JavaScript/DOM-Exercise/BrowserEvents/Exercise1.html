<html>
<head>
  <title>Solution</title>
</head>
<body>
  <div id="main">
    <h1 id="heading">Heading</h1>
    <h2 id="subheading">Subheading</h2>
    <ul class="itemlist">
      <li>Item 1</li>
      <li>Item 2</li>
      <li>Item 3</li>
      <li>Item 4</li>
    </ul>
  </div>
  <script>
    var mainNode = document.getElementById('main');
    var ulist = document.getElementsByClassName("itemlist")[0]
    var uListSize = ulist.children.length +1;

    var clickToHide = function(event){
      if(event.target !== event.currentTarget) {
        var elementClicked = event.target;
        elementClicked.style.visibility = 'hidden'
        event.stopPropagation();
      }
    }
    
    ulist.addEventListener('click', clickToHide);
    
    var buttonElement = document.createElement('input')
    buttonElement.setAttribute('type', "submit");
    buttonElement.setAttribute('id', "buttonthing");
    buttonElement.setAttribute('value', "addElemenet");
    mainNode.insertBefore(buttonElement, mainNode.children[2]);
    
    var clickToAddElement = function(){
      var element = document.createElement('li');
      element.innerHTML = 'Item ' + uListSize++;
      ulist.append(element);
    }
    
    buttonElement.addEventListener('click', clickToAddElement);
    
    
  </script>
</body>
</html>