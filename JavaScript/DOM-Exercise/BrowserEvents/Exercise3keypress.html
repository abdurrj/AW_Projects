<html>
<head>
  <title>Solution</title>
</head>
<body>
<div id="main">

</div>
<script>
  var mainNode = document.getElementById("main")
  var directionList = document.createElement('ul')
  directionList.setAttribute("id", "buttons")
  var liButton1 = document.createElement('li')
  var liButton2 = document.createElement('li')
  var liButton3 = document.createElement('li')
  var liButton4 = document.createElement('li')
  liButton1.innerHTML = '<button id="up">up</button>'
  liButton2.innerHTML = '<button id="down">down</button>'
  liButton3.innerHTML = '<button id="left">left</button>'
  liButton4.innerHTML = '<button id="right">right</button>'
  
  
  directionList.append(liButton1, liButton2, liButton3, liButton4)
  mainNode.append(directionList);
  
  var movementField = document.createElement('div')
  movementField.style.height = '400px'
  movementField.style.width = '400px'
  movementField.style.backgroundColor = 'lightgray'
  movementField.style.position = 'relative';
  
  var redSquare = document.createElement('div')
  redSquare.setAttribute('id', "redsquare")
  redSquare.style.position = "absolute"
  redSquare.style.top=0
  redSquare.style.left=0
  redSquare.style.height="20px"
  redSquare.style.width="20px"
  redSquare.style.backgroundColor="red"
  movementField.append(redSquare);
  mainNode.append(movementField)
  
  var step = 20
  var posX = 0
  var posY = 0
  
  var buttonclick = function(event){
    var button = event.code
    let nextX = posX
    let nextY = posY
    console.log(event.code)
    
    switch(button){
      case "KeyW":
        nextY -= step;
        break;
      case "KeyS":
        nextY += step;
        break;
      case "KeyA":
        nextX -= step;
        break;
      case "KeyD":
        nextX += step;
        break;
      
    }
    if (nextX<400 && nextX>=0){
      
      posX = nextX
    }
    if (nextY<400 && nextY>=0){
      posY = nextY
    }
    redSquare.style.top = posY
    redSquare.style.left = posX
      
    
  }
  
  document.addEventListener('keypress', buttonclick);
  

</script>
</body>
</html>