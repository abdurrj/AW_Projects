<html>
<head>
  <title>Solution</title>
</head>
<body>
  <div id="main">
    <h1 id="heading">Heading</h1>
    <h2 id="subheading">Subheading</h2>
    <ul class="itemlist">
      <li>Item 1</li>
      <li>Item 2</li>
      <li>Item 3</li>
      <li>Item 4</li>
    </ul>
  </div>
  <script>
    var mainNode = document.getElementById('main');
    var ulist = document.getElementsByClassName("itemlist")[0]

    var clickToHide = function(event){
      if(event.target !== event.currentTarget) {
        var elementClicked = event.target;
        elementClicked.style.color = 'rgb('+Math.floor(Math.random() * 255)+','+Math.floor(Math.random() * 255)+','+Math.floor(Math.random() * 255)+')'
        event.stopPropagation();
      }
    }
    
    ulist.addEventListener('click', clickToHide);
    
    var buttonElement = document.createElement('input')
    buttonElement.setAttribute('type', "submit");
    buttonElement.setAttribute('id', "buttonthing");
    buttonElement.setAttribute('value', "Reset colors");
    mainNode.insertBefore(buttonElement, mainNode.children[2]);
    
    var clickToResetColor = function(){
      var elements = ulist.children
      for (let i = 0; i < elements.length; i++) {
        elements[i].style.color='black'
        
      }
    }
    
    buttonElement.addEventListener('click', clickToResetColor);
    
    
  </script>
</body>
</html>